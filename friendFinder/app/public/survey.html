<!-- Latest compiled and minified CSS & JS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2>Survey Questions</h2></div>
            <div class="panel-body">
                <h2>About You</h2>
                <h3>Name (Required)</h3>
                <input type="text" name="" id="name" class="form-control" required="">
                <h4>Link to Photo Image (Required)</h4>
                <input type="text" name="" id="photo" class="form-control" required="">
                <h3>Question 1</h3>
                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <form name = "dropdown" id="ques1">
                  <select name = "dropdown">
                      <option>Select an Option</option>
                      <option value = 1>1 (Strongly Disagree) </option>
                      <option value = 2>2  </option>
                      <option value = 3>3  </option>
                      <option value = 4>4  </option>
                      <option value = 5>5 (Strongly Agree) </option>  
                      </select>
                </form> 
                
                <h3>Question 2</h3>
                <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
                <form name = "dropdown" id="ques2">
                  <select name = "dropdown">
                      <option>Select an Option</option>
                      <option value = 1>1 (Strongly Disagree) </option>
                      <option value = 2>2  </option>
                      <option value = 3>3  </option>
                      <option value = 4>4  </option>
                      <option value = 5>5 (Strongly Agree) </option>  
                      </select>
                </form> 
                <h3>Question 3</h3>
                <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
                <form name = "dropdown" id="ques3">
                  <select name = "dropdown">
                      <option>Select an Option</option>
                      <option value = 1>1 (Strongly Disagree) </option>
                      <option value = 2>2  </option>
                      <option value = 3>3  </option>
                      <option value = 4>4  </option>
                      <option value = 5>5 (Strongly Agree) </option>  
                      </select>
                </form> 
                <h3>Question 4</h3>
                <h4>You rarely do something just out of sheer curiosity.</h4>
                <form name = "dropdown" id="ques4">
                  <select name = "dropdown">
                      <option>Select an Option</option>
                      <option value = 1>1 (Strongly Disagree) </option>
                      <option value = 2>2  </option>
                      <option value = 3>3  </option>
                      <option value = 4>4  </option>
                      <option value = 5>5 (Strongly Agree) </option>  
                      </select>
                </form> 
                <h3>Question 5</h3>
                <h4>People can rarely upset you.</h4>
                <form name = "dropdown" id="ques5">
                  <select name = "dropdown">
                      <option>Select an Option</option>
                      <option value = 1>1 (Strongly Disagree) </option>
                      <option value = 2>2  </option>
                      <option value = 3>3  </option>
                      <option value = 4>4  </option>
                      <option value = 5>5 (Strongly Agree) </option>  
                      </select>
                </form> 
                <h3>Question 6</h3>
                <h4>It is often difficult for you to relate to other people’s feelings.</h4>
                <form name = "dropdown" id="ques6">
                  <select name = "dropdown">
                      <option>Select an Option</option>
                      <option value = 1>1 (Strongly Disagree) </option>
                      <option value = 2>2  </option>
                      <option value = 3>3  </option>
                      <option value = 4>4  </option>
                      <option value = 5>5 (Strongly Agree) </option>  
                      </select>
                </form> 
                <h3>Question 7</h3>
                <h4>In a discussion, truth should be more important than people’s sensitivities.</h4>
                <form name = "dropdown" id="ques7">
                  <select name = "dropdown">
                      <option>Select an Option</option>
                      <option value = 1>1 (Strongly Disagree) </option>
                      <option value = 2>2  </option>
                      <option value = 3>3  </option>
                      <option value = 4>4  </option>
                      <option value = 5>5 (Strongly Agree) </option>  
                      </select>
                </form> 
                <h3>Question 8</h3>
                <h4>You rarely get carried away by fantasies and ideas.</h4>
                <form name = "dropdown" id="ques8">
                  <select name = "dropdown">
                      <option>Select an Option</option>
                      <option value = 1>1 (Strongly Disagree) </option>
                      <option value = 2>2  </option>
                      <option value = 3>3  </option>
                      <option value = 4>4  </option>
                      <option value = 5>5 (Strongly Agree) </option>  
                      </select>
                </form> 
                <h3>Question 9</h3>
                <h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h4>
                <form name = "dropdown" id="ques9">
                  <select name = "dropdown">
                      <option>Select an Option</option>
                      <option value = 1>1 (Strongly Disagree) </option>
                      <option value = 2>2  </option>
                      <option value = 3>3  </option>
                      <option value = 4>4  </option>
                      <option value = 5>5 (Strongly Agree) </option>  
                      </select>
                </form> 
                <h3>Question 10</h3>
                <h4>You feel more energetic after spending time with a group of people.</h4>
                <form name = "dropdown" id="ques10">
                  <select name = "dropdown">
                      <option>Select an Option</option>
                      <option value = 1>1 (Strongly Disagree) </option>
                      <option value = 2>2  </option>
                      <option value = 3>3  </option>
                      <option value = 4>4  </option>
                      <option value = 5>5 (Strongly Agree) </option>  
                      </select>
                </form> 
                <center>
                    <button type="button" class="btn btn-primary btn-lg">submit <span class="glyphicon glyphicon-ok"></span></button>
                </center>
            </div>
        </div>
    </div>
    <div>
        <h3 id='newFriend'></h3>
        <div id="friendPhoto"></div>
    </div>
    <footer class="footer">
        <div class="container">
            <p><a href="/api/waitlist">API Friends List</a> | <a href=https://github.com/Kekee33/FriendFinder>GitHub Repo</a></p>
        </div>
    </footer>
    </div>
  </body>
</html>

<script type="text/javascript">

$("#submit").on("click", function(event) {
    event.preventDefault();
    var bestMatch = {
        name: $("#name").val().trim(),
        clientPhoto: $("#photo").val().trim(),
        scores: [
            $("#ques1").val().trim(),
            $("#ques2").val().trim(),
            $("#ques3").val().trim(),
            $("#ques4").val().trim(),
            $("#ques5").val().trim(),
            $("#ques6").val().trim(),
            $("#ques7").val().trim(),
            $("#ques8").val().trim(),
            $("#ques9").val().trim(),
            $("#ques10").val().trim()
        ]
      }
      //if all info is not filled out
          //alert(Please fill out all information!) 
  

    $.post("/api/clientData", bestMatch,
        function(data) {
            if (data) {
                
            $("#name").val("");
            $("#photo").val("");
            $("#ques1").val("");
            $("#ques2").val("");
            $("#ques3").val("");
            $("#ques4").val("");
            $("#ques5").val("");
            $("#ques6").val("");
            $("#ques7").val("");
            $("#ques8").val("");
            $("#ques9").val("");
            $("#ques10").val("");
            $('#newfriend').html("Your Friend is found: " + data.name);
            $('#friendPhoto').html("<img src=" + data.photoUrl + " width='200px'>")       
          
    }
  })
  });

//need something like this code to validate and find a match
  // $("#submit").on("click", function(){
  //     function validateForm() {
  //     var isValid = true;
  //     $('.form-control').each(function() {
  //       if ( $(this).val() === '' )
  //           isValid = false;
  //     });
  //     $('.chosen-select').each(function() {
  //       if( $(this).val() === "")
  //         isValid = false
  //     })
  //     return isValid;
  //   }
  //   if (validateForm() == true)
  //   {
  //       var userData = {
  //         name: $("#name").val(),
  //         photo: $("#photo").val(),
  //         scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(), ]
  //       }
  //       var currentURL = window.location.origin;
  //       $.post(currentURL + "/api/friends", userData, function(data){
  //         $("#matchName").text(data.name);
  //         $('#matchImg').attr("src", data.photo);
  //         $("#resultsModal").modal('toggle');
  //       });
  //   }
  //   else
  //   {
  //     alert("Please fill out all fields before submitting!");
  //   }
      
  //     return false;
  //   });


</script>

